<html>
  <head><title>Setup: Third-party libraries</title></head>
  <body>

    <h1>Setup: Third-party libraries</h1>

<p>If you follow <a href="index.html#B">Setup Option B</a>, you will need to download a few third-party libraries before you can compile the Rule Game Server from source.
    
  <ul>

    <li>


    <li><strong>Apache OpenJPA</strong>: from <a href="https://openjpa.apache.org/downloads.html">OpenJPA Downloads</a>. This is a library used by the Game Server to store data in the SQL server in an "object-oriented way".  On our development host we have OpenJPA 3.1, and have it installed in <tt>/opt/apache-openjpa-3.1.0</tt>, with a sym link from
 <tt>/opt/apache-openjpa</tt>.
You may choose to download a more recent version, or to install OpenJPA to a different location; if you do that, then, before compiling the Rule Game Server from source, you will need to modify as appropriate the following line in <tt>build.xml</tt>:
<pre>    
  &lt;property name="openjpa"  location="/opt/apache-openjpa"/&gt;
</pre>


    <strong>Apache Commons Math</strong>:
      The <a href="https://commons.apache.org/proper/commons-math/">Commons Math: The Apache Commons Mathematics Library</a>. (The build file refers to commons-math3-3.6.1, but you can update it to refer to the current version). If you're using Maven instead of Ant, you can also find it at  
    https://mvnrepository.com/artifact/org.apache.commons/commons-math3/3.6.1 . Once downloaded, unzip it under <tt>~/w2020</tt>, and symlink it to commons-math3. This is how it all may look like:

    <pre>
 $  cd w2020/
 $  unzip ~/sys/commons-math3-3.6.1-bin.zip 
 $  ln -s commons-math3-3.6.1/ commons-math3
 $  ls -l
....
lrwxrwxrwx  1 vmenkov domain users   20 Jul 28 13:13 commons-math3 -> commons-math3-3.6.1/
drwxr-xr-x  3 vmenkov domain users 4096 Mar 17  2016 commons-math3-3.6.1
</pre>


<li><strong>The JAX-RS RI bundle.</strong> It is used for working with JSON-format data, in particular for the REST interface of the Game Server. This is how:
  <ul>
    <li>
      You can download a 
      file such as jaxrs-ri-2.31.zip, or (preferred!) a more recent version (such as 3.1.3). (To do that, you can start from e.g. <a href="https://mvnrepository.com/artifact/org.glassfish.jersey.bundles/jaxrs-ri">https://mvnrepository.com/artifact/org.glassfish.jersey.bundles/jaxrs-ri -Jersey Bundles JAXRS RI </a>, clicking on a version number such as <tt>3.1.0-M2</tt>, and then, in a page such as https://mvnrepository.com/artifact/org.glassfish.jersey.bundles/jaxrs-ri/3.1.0-M2 , clicking on <tt>View all</tt>, you get to a directory listing such as <a href="https://repo1.maven.org/maven2/org/glassfish/jersey/bundles/jaxrs-ri/3.1.0-M2/">org/glassfish/jersey/bundles/jaxrs-ri/3.1.0-M2</a>. In that page, you choose a ZIP file, such as <tt>jaxrs-ri-3.1.0-M2.zip</tt>).
    <li>Unpack it on your machine under   <tt>~/w2020</tt>:
      <pre>
	$  cd ~/w2020
	$  unzip jaxrs-ri-3.1.0-M2.zip
      </pre>
      This will create the directory  <tt>~/w2020/jaxrs-ri</tt>, with the JAX-RS stuff in it.
  </ul>				 

  <br>NOTE: <strong>if you are using Tomcat 10.1 or above, it is strongly recommended that you download and use jaxrs-ri-3.1.3 or above.</strong> This is due to a compatibility issue with the servlet API library: an older version of jaxrs-ri may use a method (e.g. HttpServletRequest.setStatus(int,String)) which has been not just deprecated, but fully removed from the version of servlet-api.jar shipped with Tomcat starting with Tomcat 10.1.

<!-- See e.g. https://stackoverflow.com/questions/71375427/jersey-servlet-version-issues-java-lang-nosuchmethoderror-jakarta-httpservlet -->
  
<li><strong>JAXB-RI,</strong> the XML binding library. To download it, one can start with
  <a href="https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-ri">
    https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-ri</a>, choose a recent version (e.g. 3.0.2), then "View all", and finally download a file such as <tt>jaxb-ri-3.0.2.zip</tt>. Unpack the downloaded ZIP file on your machine under   <tt>~/w2020</tt>:
      <pre>
	cd ~/w2020
	unzip jaxb-ri-3.0.2.zip
      </pre>
      This will create the directory  <tt>~/w2020/jaxb-ri</tt>, with the JAXB-RI stuff in it.
 
<li><strong>Jersey Media Multipart</strong> library. Download it from <a href="https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-multipart">https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-multipart</a>. Pick a recent version such as 3.0.4, which will take you to a pagae such as 
https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-multipart/3.0.4 ; there, click on <tt>View all</tt>, and download a file such as <tt>
    jersey-media-multipart-3.0.4.jar</tt>. Put it into the directory <tt>~/w2020/other-lib</tt>

<li><strong>MIME Streaming Extension</strong>, e.g. <tt>mimepull-1.9.14.jar</tt>, from <a href="https://mvnrepository.com/artifact/org.jvnet.mimepull/mimepull/1.9.14">https://mvnrepository.com/artifact/org.jvnet.mimepull/mimepull/1.9.14</a>. Put it into the directory <tt>~/w2020/other-lib</tt> as well.

  </ul>




  </body>
  </html>
